
Spec at
http://docs.oracle.com/cd/B28359_01/network.111/b28317/tnsnames.htm


By default, tnsnames.ora is located in the $ORACLE_HOME/network/admin directory on UNIX
operating systems and in the %ORACLE_HOME%\network\admin directory on Windows operating systems.
tnsnames.ora can also be stored the following locations:

The directory specified by the TNS_ADMIN environment variable or registry value

On UNIX operating systems, the global configuration directory. For example, on the Solaris Operating System,
this directory is /var/opt/oracle.

Example 6-1 Basic Format of tnsnames.ora File

net_service_name=
(DESCRIPTION=
   (ADDRESS=(protocol_address_information))
   (CONNECT_DATA=
     (SERVICE_NAME=service_name)))



Example 6-2 Net Service Name with Multiple Connect Descriptors in tnsnames.ora

net_service_name=
(DESCRIPTION_LIST=
  (DESCRIPTION=
   (ADDRESS=(protocol_address_information))
   (ADDRESS=(protocol_address_information))
   (ADDRESS=(protocol_address_information))
   (CONNECT_DATA=
     (SERVICE_NAME=service_name)))
  (DESCRIPTION=
   (ADDRESS=(protocol_address_information))
   (ADDRESS=(protocol_address_information))
   (ADDRESS=(protocol_address_information))
   (CONNECT_DATA=
     (SERVICE_NAME=service_name))))


Example 6-3 Multiple Address Lists in tnsnames.ora

net_service_name=
(DESCRIPTION=
  (ADDRESS_LIST=
   (LOAD_BALANCE=on)
   (FAILOVER=off)
   (ADDRESS=(protocol_address_information))
   (ADDRESS=(protocol_address_information)))
  (ADDRESS_LIST=
   (LOAD_BALANCE=off)
   (FAILOVER=on)
   (ADDRESS=(protocol_address_information))
   (ADDRESS=(protocol_address_information)))
  (CONNECT_DATA=
   (SERVICE_NAME=service_name)))


Example 6-4 Multiple Oracle Connection Manager Addresses in tnsnames.ora

sample1=
(DESCRIPTION=
   (SOURCE_ROUTE=yes)
   (ADDRESS=(PROTOCOL=tcp)(HOST=host1)(PORT=1630))    # hop 1
   (ADDRESS_LIST=
     (FAILOVER=on)
     (LOAD_BALANCE=off)                                # hop 2
     (ADDRESS=(PROTOCOL=tcp)(HOST=host2a)(PORT=1630))
     (ADDRESS=(PROTOCOL=tcp)(HOST=host2b)(PORT=1630)))
   (ADDRESS=(PROTOCOL=tcp)(HOST=host3)(PORT=1521))    # hop 3
   (CONNECT_DATA=(SERVICE_NAME=Sales.us.example.com)))



Example 6-5 Client Load Balancing in tnsnames.ora

sample2=
(DESCRIPTION=
   (LOAD_BALANCE=on)
   (FAILOVER=on)
   (ADDRESS_LIST=
     (SOURCE_ROUTE=yes)
     (ADDRESS=(PROTOCOL=tcp)(HOST=host1)(PORT=1630))
     (ADDRESS=(PROTOCOL=tcp)(HOST=host2)(PORT=1521)))
  (ADDRESS_LIST=
     (SOURCE_ROUTE=yes)
     (ADDRESS=(PROTOCOL=tcp)(HOST=host3)(port=1630))
     (ADDRESS=(PROTOCOL=tcp)(HOST=host4)(port=1521)))
   (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))
In Example 6-5:

The client is instructed to pick an ADDRESS_LIST at random and to failover to the other if the
chosen ADDRESS_LIST fails. This is indicated by the LOAD_BALANCE and FAILOVER parameters being set to on.

When an ADDRESS_LIST is chosen, the client first connects to the Oracle Connection Manager,
using the Oracle Connection Manager protocol address that uses port 1630 indicated for the ADDRESS_LIST.

The Oracle Connection Manager then connects to the database service, using the protocol address
indicated for the ADDRESS_LIST.



For multiple addresses, the following parameters are available for usage:

ENABLE
FAILOVER
LOAD_BALANCE
RECV_BUF_SIZE
SDU
SEND_BUF_SIZE
SOURCE_ROUTE
TYPE_OF_SERVICE



Example

net_service_name=
(DESCRIPTION=
  (enable=broken)
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-svr)(PORT=1521))
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-svr)(PORT=1521)))
  (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com))


==================================================
ORA11 =
(DESCRIPTION =
   (ADDRESS_LIST =
     (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))
   )
(CONNECT_DATA =
   (SERVICE_NAME = ORA11)
)
)


# TNSNAMES.ORA Network Configuration File: /u01/app/oracle/product/8.1.7/network/admin/tnsnames.ora
# Generated by Oracle configuration tools.

DEV1ORA=
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost.localdomain)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = dev1ora.devlin.com)
    )
  )


6.6.3.2 FAILOVER

Default

on for DESCRIPTION_LISTs, DESCRIPTIONs, and ADDRESS_LISTs

Values

on | off | yes | no | true | false
Example

net_service_name=
(DESCRIPTION=
  (FAILOVER=on)
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-svr)(PORT=1521))
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-svr)(PORT=1521)))
  (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com)))


6.6.3.3 LOAD_BALANCE
Default

on for DESCRIPTION_LISTs

Values

on | off | yes | no | true | false
Example

net_service_name=
(DESCRIPTION=
  (LOAD_BALANCE=on)
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-svr)(PORT=1521))
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-svr)(PORT=1521)))
  (CONNECT_DATA=(SERVICE_NAME=sales.us.example.com))

6.6.3.4 RECV_BUF_SIZE

Default

The default value for this parameter is operating-system specific. The default for
the Solaris 2.6 Operating System is 32768 bytes.

Usage

Setting this parameter in the connect descriptor for a client overrides the RECV_BUF_SIZE parameter
at the client-side sqlnet.ora file.

Example

net_service_name=
(DESCRIPTION=
   (ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)
        (RECV_BUF_SIZE=11784))
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)
        (RECV_BUF_SIZE=11784))
   (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)))
net_service_name=
(DESCRIPTION=
   (RECV_BUF_SIZE=11784)
   (ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=tcp)(HOST=hr1-server)(PORT=1521))
     (ADDRESS=(PROTOCOL=tcp)(HOST=hr2-server)(PORT=1521))
   (CONNECT_DATA=
     (SERVICE_NAME=hr.us.example.com)))

6.6.3.5 SDU

Default

8192 bytes (8 KB)

Values

512 bytes to 32767

Usage

Setting this parameter in the connect descriptor for a client overrides the DEFAULT_SDU_SIZE parameter
at client-side sqlnet.ora file.


Example

net_service_name=
(DESCRIPTION=
  (SDU=8192)
   (ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521))
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)))
  (CONNECT_DATA=
    (SERVER_NAME=sales.us.example.com))


++++++++++++++++

berlin =
   (DESCRIPTION =
     (ADDRESS_LIST =
         (ADDRESS =
           (COMMUNITY = TCP)
           (PROTOCOL = TCP)
          (HOST = hun)
           (PORT = 1521)
          )
      )
     (CONNECT_DATA = (SID = kraus))
    )

ORCL.WORLD =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = hostname)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = ORCL.WORLD)
    )
  )


donna-beq.gennick.org =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS =
          (PROTOCOL = BEQ)(PROGRAM = oracle)
          (ARGV0 = oracleDONNA)
          (ARGS = '(DESCRIPTION=(LOCAL=YES)(ADDRESS=(PROTOCOL=BEQ)))')
      )
    )
    (CONNECT_DATA = (SERVICE = DONNA.GENNICK.ORG))
  )


HERMAN-IPC.GENNICK.ORG =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = HERMAN))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = HERMAN.GENNICK.ORG)
    )
  )


HERMAN-SPX.GENNICK.ORG =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = SPX)(SERVICE = herman))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = herman.gennick.org)
    )
  )

HERMAN-PIPE.GENNICK.ORG =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = NMP)(SERVER = JONATHAN)(PIPE = ORAPIPE))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = herman.gennick.org)
    )
  )

spx2tcp  = (description=
              (source_route=yes)
              (address=(protocol=spx)(service=orasrvc1))
              (address=(protocol=tcp)(port=1580)(host=spcstn)))
              (connect_data=(service_name=sales2))
          )


==========================================
Example listener.ora file:
# listener.ora Network Configuration File: /app/oracle/product/10.2.0/db_1/network/admin/listener.ora
# Generated by Oracle configuration tools.

# SID_LIST_LISTENER =
#   (SID_LIST =
#     (SID_DESC =
#       (SID_NAME = PLSExtProc)
#       (ORACLE_HOME = /app/oracle/product/11.1.0/db_1)
#       (PROGRAM = extproc)
#     )
#   )

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
    )
  )

===========================================